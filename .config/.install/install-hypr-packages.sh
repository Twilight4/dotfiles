#!/bin/bash

clear
cat <<"EOF"
 ___           _        _ _ _               _____           _     
|_ _|_ __  ___| |_ __ _| | (_)_ __   __ _  |_   _|__   ___ | |___ 
 | || '_ \/ __| __/ _` | | | | '_ \ / _` |   | |/ _ \ / _ \| / __|
 | || | | \__ \ || (_| | | | | | | | (_| |   | | (_) | (_) | \__ \
|___|_| |_|___/\__\__,_|_|_|_|_| |_|\__, |   |_|\___/ \___/|_|___/
                                    |___/                         

EOF

# Prompt the user
read -p "This will take a minimum of 30 minutes. Press any key to continue or Ctrl+C to exit..." -n 1 -s
echo

bloat=(
  "swaylock"
  "swayidle"
  "grimblast-git"
  "hyprland"
  "hyprlang"
  "clipman"
  "xdg-desktop-portal-hyprland"
  "garuda-system-maintenance"
  "garuda-hyprland-settings"
  "garuda-fish-config"
  "garuda-boot-options"
  "garuda-browser-settings"
  "firedragon"
  "garuda-gamer"
  "garuda-network-assistant"
  "garuda-setup-assistant"
  "garuda-welcome"
  "garuda-settings-manager"
  "garuda-assistant"
  "alacritty"
  "deluge-gtk"
  "eog"
  "qualculate-gtk"
  "mako"
  "evince"
  "foot"
  "fsearch"
  "geany"
  "meld"
  "pace"
  "ranger"
  "gnome-system-monitor"
  "gnome-logs"
  "sddm"
  "xfce4-terminal"
)

packages=(
  "hyprland-git"
  "ninja"
  "meson"
  "cmake"
  "uwsm"
  "cpio"
  "hyprlock-git"
  "hypridle-git"
  "speech-dispatcher"
  "espanso-wayland"
  "qt5-wayland"
  "qt6-wayland"
  "xdg-desktop-portal-hyprland-git"
  "xdg-desktop-portal-gtk"
  "wob"
  "fastfetch"
  "pfetch"
  "cpufetch"
  "macchina"
  "onefetch"
  "yazi-nightly-bin"
  "p7zip"
  "jq"
  "poppler"
  "zoxide"
  "nwg-dock-hyprland"
  "zen-browser-bin"
  "python-click"
  "torbrowser-launcher"
  "tealdeer"
  "python-tomlkit"
  "python-scapy"
  "python-click-aliases"
  "outlook-for-linux-bin"
  "neovim"
  "papirus-icon-theme"
  "bibata-cursor-theme"
  "thefuck"
  "portmaster-stub-bin"
  "ddgr"
  "lsd"
  "trizen"
  "pkgfile"
  "trash-cli"
  "mtools"
  "aylurs-gtk-shell"
  "swaybg"
  "wdisplays"
  "ripgrep"
  "perl-image-exiftool"
  "xorg-xhost"
  "spotify"
  "the_silver_searcher"
  "irqbalance"
  "zenpower3-dkms"
  "acpi"
  "dkms"
  "emacs-wayland"
  "hunspell-en_us"
  "hunspell-pl"
  "duf"
  "ncdu"
  "rlwrap"
  "speedtest-cli"
  "googler"
  "google-maps-desktop"
  "gnome-weather"
  "gnome-maps"
  "gnome-keyring"
  "gnome-clocks"
  "smassh-bin"
  "fd"
  "nyx"
  "onionshare"
  "cbonsai"
  "privatebin-cli-bin"
  "cpupower"
  "mingw-w64"
  "zathura"
  "qrencode"
  "cronie"
  "zathura-pdf-poppler"
  "grc"
  "udiskie"
  "usbutils"
  "wf-recorder"
  "net-tools"
  "upower"
  "apparmor"
  "thefuck"
  "libsecret"
  "chafa"
  "alsa-utils"
  "yt-dlp"
  "pipewire"
  "pipewire-alsa"
  "wireplumber"
  "gtk-engine-murrine"
  "graphite-gtk-theme-black-normal-compact-git"
  "freerdp2"
  "proxychains"
  "libayatana-appindicator"
  "swaync"
  "libnotify"
  "zsh"
  "zsh-autosuggestions"
  "zsh-completions"
  "zsh-history-substring-search"
  "zsh-syntax-highlighting"
  "rsync"
  "git"
  "cliphist"
  "fortune-mod"
  "tty-clock"
  "wlr-randr-git"
  "cowsay"
  "ffmpeg"
  "grim"
  "gvfs"
  "figlet"
  "lolcat"
  "inxi"
  "findutils"
  "kitty"
  "pavucontrol"
  "playerctl"
  "python-requests"
  "python-pip"
  "qt5ct"
  "qt6ct"
  "slurp"
  "waybar"
  "wget"
  "wl-clipboard"
  "pkg-config"
  "wavemon"
  "wlogout"
  "xdg-user-dirs"
  "xdg-utils"
  "yad"
  "brightnessctl"
  "btop"
  "eog"
  "mpv"
  "mpv-mpris"
  "acpi"
  "acpid"
  "nvtop"
  "pamixer"
  "xcp"
  "xh"
  "ferdium-bin"
  "exa"
  "bat"
  "bat-extras"
  "expac"
  "freetube"
  "sddm-git"
  "sddm-sugar-candy-git"
  "twitter"
  "netflix"
  "gnome-calculator"
  "dog"
  "ripgrep"
  "rofi-lbonn-wayland-git"
  "swaybg"
  "ananicy-cpp"
  "nohang"
  "imagemagick"
  "swappy"
  "nautilus"
  "nautilus-open-any-terminal"
  "nautilus-image-converter"
  "nautilus-admin-gtk4"
  "kvantum-qt5"
  "git-delta"
  "translate-shell"
  "dust"
  "ngrok"
  "firewalld"
  "sd"
  "pv"
  "udev-block-notify-git"
  "blanket"
  "swayimg"
  "cmatrix-git"
  "cava-git"
  "python-pywal"
  "moar-git"
  "cheat-bin"
  "xdg-ninja-git"
  "dragon-drop"
  "noise-suppression-for-voice-git"
)

extra=(
  "toilet"
  "caffeine-ng"
  "asciiquarium-transparent-git"
  "fireplace-git"
  "trizen"
  "sushi"
  "wildmidi"
  "timidity++"
  "vnstat"
  "docker"
  "docker-desktop"
  "kubectl-bin"
  "minikube"
  "k9s"
  "aws-cli"
  "eksctl"
  "taskell"
  "zenity"
  "progress"
  "tokei"
  "procs"
  "hub"
  "songrec"
  "python-pyopenssl"
  "python-pycryptodomex"
  "graphviz"
  "nyancat"
  "superproductivity-bin"
  "musikcube"
  "android-tools"
  "appmenu-gtk-module"
  "libdbusmenu-glib"
  "python-pywhat"
  "tabbed-git"
  "sway-audio-idle-inhibit-git"
  "tabbed-git"
  "ffsend-bin"
  "ascii-image-converter-git"
  "boxes"
  "sysz"
  "shellcheck-bin"
  "net-snmp"
  "nodejs-git-stats"
)

# First you have to uninstall the bloat
echo "Removing bloat..."
_uninstallPackagesParu "${bloat[@]}"

# Install packages
echo "Installing packages..."
_installPackagesParu "${packages[@]}"
#_installPackagesParu "${extra[@]}"

# Download mega cmd
#"megasync-bin"
#"megacmd"
wget https://mega.nz/linux/repo/Arch_Extra/x86_64/megacmd-x86_64.pkg.tar.zst && sudo pacman -U "$PWD/megacmd-x86_64.pkg.tar.zst"
rm megacmd-x86_64.pkg.tar.zst 

# Wait 2 sec before clear so user knows what happened
echo
sleep 2
